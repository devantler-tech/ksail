---
apiVersion: ksail.io/v1alpha1
kind: Cluster
metadata:
  name: my-cluster
spec:
  connection:
    kubeconfig: ~/.kube/config
    context: k3d-my-cluster
    timeout: 5m
  project:
    workingDirectory: .
    ksailConfigPath: ksail-config.yaml
    distributionConfigPath: k3d-config.yaml
    template: Kustomize
    engine: Docker
    distribution: K3s
    deploymentTool: Flux
    secretManager: None
    cni: Default
    mirrorRegistries: false
  fluxDeploymentToolOptions:
    source:
      url: oci://host.k3d.internal:5555/ksail-registry
    postBuildVariables: false
  kustomizeTemplateOptions:
    root: k8s/clusters/my-cluster/flux-system
    flows:
    - apps
    - infrastructure/configs
    - infrastructure/controllers
    hooks: []
  sopsSecretManagerOptions: {}
  ciliumCNIOptions: {}
  mirrorRegistryOptions:
    mirrorRegistries:
    - proxy:
        url: https://registry.k8s.io/
        insecure: false
      name: registry.k8s.io
      hostPort: 5556
      provider: Docker
    - proxy:
        url: https://registry-1.docker.io/
        insecure: false
      name: docker.io
      hostPort: 5557
      provider: Docker
    - proxy:
        url: https://ghcr.io/
        insecure: false
      name: ghcr.io
      hostPort: 5558
      provider: Docker
    - proxy:
        url: https://gcr.io/
        insecure: false
      name: gcr.io
      hostPort: 5559
      provider: Docker
    - proxy:
        url: https://mcr.microsoft.com/
        insecure: false
      name: mcr.microsoft.com
      hostPort: 5560
      provider: Docker
    - proxy:
        url: https://quay.io/
        insecure: false
      name: quay.io
      hostPort: 5561
      provider: Docker
  cliOptions:
    debugOptions:
      editor: Nano
    downOptions:
      registries: false
    listOptions:
      all: false
    sopsOptions:
      listOptions:
        showSOPSConfigKeysOnly: false
        showPrivateKey: true
    upOptions:
      destroy: false
      lint: true
      reconcile: true
    updateOptions:
      lint: true
      reconcile: true
