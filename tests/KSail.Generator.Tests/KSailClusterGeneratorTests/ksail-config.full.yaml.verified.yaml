---
apiVersion: ksail.io/v1alpha1
kind: Cluster
metadata:
  name: my-cluster
spec:
  connection:
    kubeconfig: ~/.kube/config
    context: k3d-my-cluster
    timeout: 5m
  project:
    workingDirectory: .
    ksailConfigPath: ksail-config.yaml
    distributionConfigPath: k3d-config.yaml
    template: Kustomize
    engine: Docker
    distribution: K3s
    deploymentTool: Flux
    secretManager: None
    cni: Default
    editor: Nano
    mirrorRegistries: false
  fluxDeploymentTool:
    source:
      url: <url>
    postBuildVariables: false
  kustomizeTemplate:
    root: k8s/clusters/my-cluster/flux-system
    flows:
    - apps
    - infrastructure/configs
    - infrastructure/controllers
    hooks: []
    components: false
  sopsSecretManager: {}
  ciliumCNI: {}
  kSailRegistry:
    name: ksail-registry
    hostPort: 5555
    provider: Docker
  mirrorRegistries:
  - proxy:
      url: <url>
      insecure: false
    hostPort: 5556
    name: registry.k8s.io
    provider: Docker
  - proxy:
      url: <url>
      insecure: false
    hostPort: 5557
    name: docker.io
    provider: Docker
  - proxy:
      url: <url>
      insecure: false
    hostPort: 5558
    name: ghcr.io
    provider: Docker
  - proxy:
      url: <url>
      insecure: false
    hostPort: 5559
    name: gcr.io
    provider: Docker
  - proxy:
      url: <url>
      insecure: false
    hostPort: 5560
    name: mcr.microsoft.com
    provider: Docker
  - proxy:
      url: <url>
      insecure: false
    hostPort: 5561
    name: quay.io
    provider: Docker
  cli:
    down:
      registries: false
    list:
      all: false
    sops:
      list:
        showSOPSConfigKeysOnly: false
        showPrivateKey: true
    up:
      destroy: false
      lint: true
      reconcile: true
    update:
      lint: true
      reconcile: true
