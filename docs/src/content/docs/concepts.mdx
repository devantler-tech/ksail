---
title: Concepts
description: KSail builds upon established Kubernetes technologies and patterns. This page provides an overview of key concepts with links to upstream documentation.
---

KSail builds upon established Kubernetes technologies and patterns. This page provides an overview of key concepts with links to upstream documentation for deeper understanding.

## Native Configuration Philosophy

**KSail is a superset, not a replacement.** One of KSail's core design principles is to work with native distribution configurations rather than creating proprietary formats. When you run `ksail cluster init`, KSail generates:

- **`kind.yaml`** for Vanilla (Kind) clusters — standard [Kind configuration](https://kind.sigs.k8s.io/docs/user/configuration/)
- **`k3d.yaml`** for K3s clusters — standard [K3d configuration](https://k3d.io/stable/usage/configfile/)
- **`talos/` patches** for Talos clusters — standard [Talos configuration patches](https://www.talos.dev/latest/reference/configuration/)
- **`vcluster.yaml`** for VCluster clusters — standard [vCluster configuration](https://www.vcluster.com/docs/vcluster/configure/vcluster-yaml/)

### Why This Matters

**No vendor lock-in:** You can use these configuration files directly with the underlying tools (Kind, K3d, Talos CLI) without KSail. This means:

- **Freedom to migrate:** Run `kind create cluster --config kind.yaml` anytime
- **Standard tooling:** Use native CLI tools alongside KSail
- **Team flexibility:** Team members can choose KSail or native tools
- **Learning path:** Configurations match official documentation
- **Future-proof:** Your investment in learning stays valid even if you stop using KSail

### Unified Workflow Across Distributions

While each distribution has its own configuration format, KSail provides a consistent workflow:

```bash
# Same commands work across all distributions
ksail cluster init --distribution Vanilla  # Generates kind.yaml
ksail cluster init --distribution K3s      # Generates k3d.yaml
ksail cluster init --distribution Talos    # Generates talos/ patches
ksail cluster init --distribution VCluster # Generates vcluster.yaml

# Consistent lifecycle management
ksail cluster create   # Works with any distribution
ksail cluster update   # Works with any distribution
ksail cluster delete   # Works with any distribution
```

This consistency makes it easy to switch distributions or work on multiple projects using different Kubernetes flavors.

### Configuration Portability

KSail-generated configurations are fully portable:

- **Vanilla (`kind.yaml`)**: Valid Kind configuration that can be used with `kind create cluster --config kind.yaml`
- **K3s (`k3d.yaml`)**: Valid K3d configuration that can be used with `k3d cluster create --config k3d.yaml`
- **Talos (patch files)**: Valid Talos patches that can be applied with `talosctl`
- **VCluster (`vcluster.yaml`)**: Valid vCluster configuration that can be used with the [vCluster CLI](https://www.vcluster.com/docs/vcluster/deploy/control-plane/kubernetes-pod/basics)

You maintain full control and can always "drop down" to the native tool if needed.

## Kubernetes

[Kubernetes](https://kubernetes.io/) is an open-source container orchestration platform for automating deployment, scaling, and management of containerized applications.

**Key resources:**

- [Kubernetes Documentation](https://kubernetes.io/docs/home/)
- [Kubernetes Concepts](https://kubernetes.io/docs/concepts/)
- [kubectl Reference](https://kubernetes.io/docs/reference/kubectl/)

## Distributions

Kubernetes distributions package the Kubernetes components with additional tooling for specific use cases. KSail supports four distributions: Vanilla, K3s, Talos, and VCluster. All distributions can run on the Docker provider; Talos can also run on the Hetzner provider.

### Vanilla (implemented with Kind)

Vanilla uses [Kind](https://kind.sigs.k8s.io/) (Kubernetes in Docker) to run standard upstream Kubernetes clusters using Docker containers as nodes. This distribution provides upstream Kubernetes without modifications, making it ideal for testing against standard Kubernetes behavior.

**Key resources:**

- [Kind Documentation](https://kind.sigs.k8s.io/)
- [Kind Configuration](https://kind.sigs.k8s.io/docs/user/configuration/)
- [Kind Quick Start](https://kind.sigs.k8s.io/docs/user/quick-start/)

### K3s (implemented with K3d)

[K3s](https://k3s.io/) is a lightweight, certified Kubernetes distribution built for resource-constrained environments. KSail uses [K3d](https://k3d.io/) to run K3s clusters in Docker containers. K3s includes sensible defaults like an embedded load balancer, local storage provisioner, and metrics server.

**Key resources:**

- [K3s Documentation](https://docs.k3s.io/)
- [K3d Documentation](https://k3d.io/)
- [K3d Configuration](https://k3d.io/stable/usage/configfile/)

### Talos

[Talos Linux](https://www.talos.dev/) is a minimal, immutable operating system designed specifically for Kubernetes. Provides enhanced security through API-driven configuration with no shell access.

**Key resources:**

- [Talos Documentation](https://www.talos.dev/latest/)
- [Talos Configuration Reference](https://www.talos.dev/latest/reference/configuration/)
- [Talos Getting Started](https://www.talos.dev/latest/introduction/getting-started/)

### VCluster (implemented with Vind)

[vCluster](https://www.vcluster.com/) creates virtual Kubernetes clusters that run inside a host cluster. KSail uses the [Vind](https://github.com/loft-sh/vcluster) Docker driver to run vCluster with Docker as the infrastructure provider. VCluster is ideal for lightweight, isolated environments that share the host cluster's networking, storage, and CNI without requiring dedicated infrastructure components.

**Key characteristics:**

- CNI, CSI, metrics-server, and LoadBalancer are inherited from the host cluster
- No node management — VCluster runs as a single pod in the host
- Fastest cluster creation time among all distributions
- Uses the vCluster Helm chart for configuration

**Key resources:**

- [vCluster Documentation](https://www.vcluster.com/docs/)
- [vCluster Configuration](https://www.vcluster.com/docs/vcluster/configure/vcluster-yaml/)
- [Vind Docker Driver](https://github.com/loft-sh/vcluster)

## Providers

Providers are the infrastructure backends that run cluster nodes. KSail abstracts provider-specific operations so you can use the same workflow regardless of where your cluster runs.

### Docker

The Docker provider runs Kubernetes nodes as Docker containers on your local machine. This is the default provider for all distributions and requires only Docker to be installed.

**Supported distributions:** Vanilla, K3s, Talos, VCluster

**Key resources:**

- [Docker Documentation](https://docs.docker.com/)
- [Docker Desktop](https://www.docker.com/products/docker-desktop/)

### Hetzner

The Hetzner provider creates Kubernetes nodes as Hetzner Cloud servers. This provider enables running production-grade clusters on Hetzner's infrastructure with full lifecycle management.

**Supported distributions:** Talos

**Requirements:**

- Hetzner Cloud API token (set via `HCLOUD_TOKEN` environment variable)
- Talos ISO available in your Hetzner account

> [!NOTE]
> KSail only enables Hetzner-backed operations when `HCLOUD_TOKEN` is set; if it's unset, Hetzner is skipped.

**Key resources:**

- [Hetzner Cloud Documentation](https://docs.hetzner.com/cloud/)
- [Hetzner Cloud API](https://docs.hetzner.cloud/)
- [Talos on Hetzner](https://www.talos.dev/latest/talos-guides/install/cloud-platforms/hetzner/)

## Container Network Interface (CNI)

[CNI](https://www.cni.dev/) is a specification for configuring network interfaces in Linux containers. CNI plugins provide pod networking, network policies, and observability.

### Cilium

[Cilium](https://cilium.io/) is an eBPF-based CNI providing networking, security, and observability. Offers advanced features like transparent encryption and service mesh.

**Key resources:**

- [Cilium Documentation](https://docs.cilium.io/)
- [Cilium Concepts](https://docs.cilium.io/en/stable/overview/intro/)
- [Network Policies with Cilium](https://docs.cilium.io/en/stable/security/policy/)

### Calico

[Calico](https://www.tigera.io/project-calico/) provides networking and network security for Kubernetes. Known for its network policy enforcement capabilities.

**Key resources:**

- [Calico Documentation](https://docs.tigera.io/calico/latest/about/)
- [Calico Network Policy](https://docs.tigera.io/calico/latest/network-policy/)
- [Calico Getting Started](https://docs.tigera.io/calico/latest/getting-started/)

## Container Storage Interface (CSI)

[CSI](https://kubernetes-csi.github.io/docs/) is a standard for exposing storage systems to containerized workloads. CSI drivers provide persistent storage for stateful applications.

### Local Path Provisioner

[Local Path Provisioner](https://github.com/rancher/local-path-provisioner) creates PersistentVolumes using local storage on nodes. Suitable for development and single-node clusters.

**Key resources:**

- [Local Path Provisioner GitHub](https://github.com/rancher/local-path-provisioner)
- [Kubernetes Persistent Volumes](https://kubernetes.io/docs/concepts/storage/persistent-volumes/)
- [Storage Classes](https://kubernetes.io/docs/concepts/storage/storage-classes/)

## Metrics Server

[Metrics Server](https://github.com/kubernetes-sigs/metrics-server) collects resource metrics from kubelets and exposes them via the Kubernetes API. Required for Horizontal Pod Autoscaler (HPA) and `kubectl top`.

**Key resources:**

- [Metrics Server GitHub](https://github.com/kubernetes-sigs/metrics-server)
- [Resource Metrics Pipeline](https://kubernetes.io/docs/tasks/debug/debug-cluster/resource-metrics-pipeline/)
- [Horizontal Pod Autoscaler](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/)

## Kubelet CSR Approver

[Kubelet CSR Approver](https://github.com/postfinance/kubelet-csr-approver) automatically approves Certificate Signing Requests (CSRs) for kubelet serving certificates. When `serverTLSBootstrap: true` is enabled on kubelets, they request proper TLS certificates via CSR instead of using self-signed certificates. This controller approves those requests, enabling secure TLS communication between components like metrics-server and kubelets.

**Why it matters:**

- Metrics-server requires secure TLS communication with kubelets
- Without approved CSRs, kubelets use self-signed certificates that metrics-server rejects
- KSail automatically installs kubelet-csr-approver when metrics-server is enabled on Vanilla or Talos

**Key resources:**

- [Kubelet CSR Approver GitHub](https://github.com/postfinance/kubelet-csr-approver)
- [Kubernetes TLS Bootstrapping](https://kubernetes.io/docs/reference/access-authn-authz/kubelet-tls-bootstrapping/)
- [Certificate Signing Requests](https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/)

## cert-manager

[cert-manager](https://cert-manager.io/) automates TLS certificate management in Kubernetes. Supports ACME (Let's Encrypt), self-signed, and external CA certificates.

**Key resources:**

- [cert-manager Documentation](https://cert-manager.io/docs/)
- [cert-manager Concepts](https://cert-manager.io/docs/concepts/)
- [Issuer Types](https://cert-manager.io/docs/configuration/)

## Policy Engines

Policy engines enforce security, compliance, and best practices in Kubernetes clusters through admission control and continuous validation.

### Kyverno

[Kyverno](https://kyverno.io/) is a Kubernetes-native policy engine designed for ease of use. Policies are written as Kubernetes resources using YAML, without requiring a new language.

**Key resources:**

- [Kyverno Documentation](https://kyverno.io/docs/)
- [Kyverno Policies](https://kyverno.io/policies/)
- [Policy Reports](https://kyverno.io/docs/policy-reports/)

### Gatekeeper

[OPA Gatekeeper](https://open-policy-agent.github.io/gatekeeper/) brings Open Policy Agent (OPA) to Kubernetes as an admission controller. Policies are written in Rego, a declarative policy language.

**Key resources:**

- [Gatekeeper Documentation](https://open-policy-agent.github.io/gatekeeper/website/docs/)
- [OPA Documentation](https://www.openpolicyagent.org/docs/latest/)
- [Gatekeeper Library](https://open-policy-agent.github.io/gatekeeper-library/website/)

## OCI Registries

[OCI Distribution](https://github.com/opencontainers/distribution-spec) defines a standard for storing and distributing container images and other artifacts.

**Key resources:**

- [OCI Distribution Specification](https://github.com/opencontainers/distribution-spec)
- [Docker Registry](https://distribution.github.io/distribution/)
- [OCI Artifacts](https://github.com/opencontainers/artifacts)

## GitOps

[GitOps](https://opengitops.dev/) is an operational framework using Git as the single source of truth for declarative infrastructure and applications.

### Flux

[Flux](https://fluxcd.io/) is a GitOps toolkit for Kubernetes that keeps clusters in sync with configuration stored in Git or OCI registries.

**Key resources:**

- [Flux Documentation](https://fluxcd.io/flux/)
- [Flux Concepts](https://fluxcd.io/flux/concepts/)
- [FluxInstance CRD](https://fluxcd.io/flux/components/)

### ArgoCD

[Argo CD](https://argo-cd.readthedocs.io/) is a declarative GitOps continuous delivery tool with a web UI for visualizing application state.

**Key resources:**

- [Argo CD Documentation](https://argo-cd.readthedocs.io/)
- [Argo CD Concepts](https://argo-cd.readthedocs.io/en/stable/core_concepts/)
- [Application CRD](https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/)

## SOPS

[SOPS](https://github.com/getsops/sops) (Secrets OPerationS) is an editor for encrypted files supporting multiple key management backends.

**Key resources:**

- [SOPS Documentation](https://github.com/getsops/sops)
- [age Encryption](https://age-encryption.org/)
- [SOPS with Flux](https://fluxcd.io/flux/guides/mozilla-sops/)

### Key Management Systems

SOPS supports multiple key management backends:

| Provider        | Documentation                                                                       |
| --------------- | ----------------------------------------------------------------------------------- |
| age             | [age-encryption.org](https://age-encryption.org/)                                   |
| PGP             | [GnuPG](https://gnupg.org/)                                                         |
| AWS KMS         | [AWS KMS Documentation](https://docs.aws.amazon.com/kms/)                           |
| GCP KMS         | [Cloud KMS Documentation](https://docs.cloud.google.com/kms/docs)                   |
| Azure Key Vault | [Azure Key Vault Documentation](https://learn.microsoft.com/en-us/azure/key-vault/) |
| HashiCorp Vault | [Vault Documentation](https://developer.hashicorp.com/vault/docs)                   |

## Kustomize

[Kustomize](https://kustomize.io/) is a template-free customization tool for Kubernetes manifests. It uses overlays to patch base configurations.

**Key resources:**

- [Kustomize Documentation](https://kubectl.docs.kubernetes.io/references/kustomize/)
- [Kustomize Examples](https://github.com/kubernetes-sigs/kustomize/tree/master/examples)
- [Kustomization File Reference](https://kubectl.docs.kubernetes.io/references/kustomize/kustomization/)

## Helm

[Helm](https://helm.sh/) is the package manager for Kubernetes. It uses charts to define, install, and upgrade applications.

### kstatus Wait Support

KSail uses Helm v4 which includes support for [HIP-0022](https://helm.sh/community/hips/hip-0022/) – enhanced resource waiting using [kstatus](https://github.com/kubernetes-sigs/cli-utils/blob/master/pkg/kstatus/README.md). When `Wait: true` is enabled in chart installations, Helm leverages kstatus to:

- **Wait for custom resources** to be ready (not just built-in resources)
- **Ensure full reconciliation** of all resources (including cleanup of old pods in deployments)
- **Monitor status conditions** using the standard Kubernetes ready condition

All KSail component installers use kstatus-based waiting to ensure reliable deployments.

**Key resources:**

- [Helm Documentation](https://helm.sh/docs/)
- [Helm Charts](https://helm.sh/docs/topics/charts/)
- [HIP-0022: Wait With kstatus](https://helm.sh/community/hips/hip-0022/)
- [kstatus Documentation](https://github.com/kubernetes-sigs/cli-utils/blob/master/pkg/kstatus/README.md)
- [Artifact Hub](https://artifacthub.io/) – Find and publish Helm charts

## Next Steps

- **[Features](/features/)** – Explore KSail capabilities
- **[Use Cases](/use-cases/)** – Practical workflows and examples
- **[Configuration](/configuration/)** – Complete configuration reference
