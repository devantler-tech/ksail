---
apiVersion: ksail.io/v1alpha1
kind: Cluster
metadata:
  name: ksail-advanced-native
spec:
  connection:
    kubeconfig: ~/.kube/config
    context: kind-ksail-advanced-native
    timeout: 5m
  project:
    workingDirectory: {TempPath}ksail-init-native-advanced
    ksailConfigPath: ksail-config.yaml
    distributionConfigPath: kind-config.yaml
    template: Kustomize
    engine: Docker
    distribution: Native
    deploymentTool: Flux
    secretManager: SOPS
    cni: Default
    editor: nano
    mirrorRegistries: false
  fluxDeploymentTool:
    source:
      url: oci://host.docker.internal:5555/ksail-registry
    postBuildVariables: true
  kustomizeTemplate:
    root: k8s/clusters/ksail-advanced-native/flux-system
    flows:
    - apps
    - infrastructure/configs
    - infrastructure/controllers
    hooks:
    - clusters/ksail-advanced-native
    - distributions/native
    - shared
    components: true
  sopsSecretManager: {}
  ciliumCNI: {}
  kSailRegistry:
    name: ksail-registry
    hostPort: 5555
    provider: Docker
  mirrorRegistries:
  - proxy:
      url: https://registry.k8s.io/
      insecure: false
    hostPort: 5556
    name: registry.k8s.io
    provider: Docker
  - proxy:
      url: https://registry-1.docker.io/
      insecure: false
    hostPort: 5557
    name: docker.io
    provider: Docker
  - proxy:
      url: https://ghcr.io/
      insecure: false
    hostPort: 5558
    name: ghcr.io
    provider: Docker
  - proxy:
      url: https://gcr.io/
      insecure: false
    hostPort: 5559
    name: gcr.io
    provider: Docker
  - proxy:
      url: https://mcr.microsoft.com/
      insecure: false
    hostPort: 5560
    name: mcr.microsoft.com
    provider: Docker
  - proxy:
      url: https://quay.io/
      insecure: false
    hostPort: 5561
    name: quay.io
    provider: Docker
  cli:
    down:
      registries: false
    list:
      all: false
    sops:
      list:
        showSOPSConfigKeysOnly: false
        showPrivateKey: true
    up:
      destroy: false
      lint: true
      reconcile: true
    update:
      lint: true
      reconcile: true
